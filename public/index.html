<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <title>ä¸ƒå¤•èŠå¤©</title>
    <meta name="description" content="åŸºäº Cloudflare Workers çš„å®æ—¶èŠå¤©åº”ç”¨" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/skeleton.css" />
    <link rel="stylesheet" href="styles.css" />
    <script src="/dist/index.js" type="module"></script>
  </head>
  <body>
    <div class="app-container">
      <!-- å·¦ä¾§ç”¨æˆ·ä¿¡æ¯é¢æ¿ -->
      <div class="user-panel">
        <div class="user-info">
          <h4 class="app-title">ä¸ƒå¤•èŠå¤©</h4>
          
          <!-- å¤´åƒè®¾ç½®åŒºåŸŸ -->
          <div class="avatar-section">
            <div class="avatar-preview" id="avatarPreview">
              <img id="avatarImage" src="" alt="å¤´åƒ" style="display: none;">
              <span id="avatarEmoji">ğŸ‘¤</span>
            </div>
            <div class="input-group">
              <label for="avatarUrl">å¤´åƒå›¾ç‰‡ URL</label>
              <input type="text" id="avatarUrl" placeholder="è¾“å…¥å›¾ç‰‡URLåœ°å€" class="u-full-width" />
            </div>
            <div class="avatar-options">
              <span class="avatar-option" data-emoji="ğŸ‘¤">ğŸ‘¤</span>
              <span class="avatar-option" data-emoji="ğŸ˜Š">ğŸ˜Š</span>
              <span class="avatar-option" data-emoji="ğŸ˜">ğŸ˜</span>
              <span class="avatar-option" data-emoji="ğŸ¤©">ğŸ¤©</span>
              <span class="avatar-option" data-emoji="ğŸ¥°">ğŸ¥°</span>
              <span class="avatar-option" data-emoji="ğŸ˜‡">ğŸ˜‡</span>
            </div>
          </div>

          <!-- æ˜µç§°è®¾ç½® -->
          <div class="input-group">
            <label for="userName">æ˜µç§°</label>
            <input type="text" id="userName" placeholder="è¯·è¾“å…¥æ˜µç§°" class="u-full-width" />
          </div>

          <!-- ç”¨æˆ·IDæ˜¾ç¤º -->
          <div class="info-group">
            <label>ç”¨æˆ· ID</label>
            <div class="info-value" id="userId">-</div>
          </div>

          <!-- èŠå¤©å®¤IDæ˜¾ç¤º -->
          <div class="info-group">
            <label>èŠå¤©å®¤ ID</label>
            <div class="info-value-with-copy">
              <span id="roomId">-</span>
              <button class="copy-btn" id="copyRoomId" title="å¤åˆ¶èŠå¤©å®¤ID">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <rect x="9" y="9" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/>
                  <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke="currentColor" stroke-width="2"/>
                </svg>
              </button>
            </div>
          </div>

          <!-- åˆ†äº«æŒ‰é’® -->
          <div class="share-section">
            <button class="share-btn" id="shareRoom">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M18 8C19.6569 8 21 6.65685 21 5C21 3.34315 19.6569 2 18 2C16.3431 2 15 3.34315 15 5C15 6.65685 16.3431 8 18 8Z" stroke="currentColor" stroke-width="2"/>
                <path d="M18 22C19.6569 22 21 20.6569 21 19C21 17.3431 19.6569 16 18 16C16.3431 16 15 17.3431 15 19C15 20.6569 16.3431 22 18 22Z" stroke="currentColor" stroke-width="2"/>
                <path d="M6 15C7.65685 15 9 13.6569 9 12C9 10.3431 7.65685 9 6 9C4.34315 9 3 10.3431 3 12C3 13.6569 4.34315 15 6 15Z" stroke="currentColor" stroke-width="2"/>
                <path d="M15 5L9 12M9 12L15 19" stroke="currentColor" stroke-width="2"/>
              </svg>
              åˆ†äº«èŠå¤©å®¤
            </button>
          </div>
        </div>
      </div>

      <!-- å³ä¾§èŠå¤©åŒºåŸŸ -->
      <div class="chat-panel">
        <div class="chat-container">
          <!-- æ¶ˆæ¯æ˜¾ç¤ºåŒºåŸŸ -->
          <div class="messages-container" id="messagesContainer">
            <!-- æ¶ˆæ¯å°†é€šè¿‡ReactåŠ¨æ€æ’å…¥ -->
          </div>
          
          <!-- å›ºå®šçš„æ¶ˆæ¯è¾“å…¥åŒºåŸŸ -->
          <div class="message-input-fixed">
            <form class="message-input-container" id="messageForm">
              <textarea 
                id="messageInput" 
                placeholder="è¾“å…¥æ¶ˆæ¯... (æŒ‰Enterå‘é€ï¼ŒShift+Enteræ¢è¡Œ)" 
                class="message-input"
                rows="1"
              ></textarea>
              <button type="submit" class="send-button">
                å‘é€
              </button>
            </form>
          </div>
        </div>
      </div>

      <!-- ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆª -->
      <div class="mobile-nav">
        <button class="nav-btn active" data-panel="chat">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z"/>
          </svg>
          èŠå¤©
        </button>
        <button class="nav-btn" data-panel="user">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z"/>
          </svg>
          æˆ‘çš„
        </button>
      </div>
    </div>
  </body>
</html>

================================================
FILE: public/styles.css
================================================
/* åœ¨ç°æœ‰çš„CSSä¸­æ·»åŠ ä»¥ä¸‹æ ·å¼ */

/* è¿æ¥çŠ¶æ€æŒ‡ç¤ºå™¨ */
.connection-status {
  position: fixed;
  top: 10px;
  right: 10px;
  padding: 5px 10px;
  border-radius: 15px;
  font-size: 12px;
  z-index: 1000;
}

.connection-status.connected {
  background: #4CAF50;
  color: white;
}

.connection-status.disconnected {
  background: #f44336;
  color: white;
}

.connection-status.connecting {
  background: #ff9800;
  color: white;
}

/* ç¡®ä¿æ¶ˆæ¯è¾“å…¥æ¡†å§‹ç»ˆå¯è§ */
.message-input-fixed {
  position: sticky;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  border-top: 1px solid #e8e8e8;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
  z-index: 100;
}
